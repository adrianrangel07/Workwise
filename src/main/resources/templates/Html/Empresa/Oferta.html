<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../Imagenes/wknlogo2.png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="../Css/empresa/crear-oferta.css">
    <link rel="stylesheet" href="/Css/general/bootstrap.min.css">
    <link rel="stylesheet" href="/Css/general/Grid-and-List-view-V10-style.css">
    <link rel="stylesheet" href="/Css/general/Grid-and-List-view-V10.css">
    <link rel="stylesheet" href="/Css/general/Nunito.css">
    <link rel="stylesheet" href="/Css/general/styles.min.css">
    <link rel="stylesheet" href="/Css/general/oferta.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
    <title>Crear Oferta de Trabajo</title>
</head>

<body>
    <nav class="navbar align-items-start sidebar sidebar-dark accordion bg-gradient-primary p-0 navbar-dark">
        <div class="container-fluid d-flex flex-column p-0"><a
                class="navbar-brand d-flex justify-content-center align-items-center sidebar-brand m-0"
                th:href="@{/empresas/pagina_principal}"><img src="/Imagenes/wwk_white.png"
                    width="61" height="58" style="width: 50px;height: 50px;">
                <div class="sidebar-brand-icon rotate-n-15"></div>
                <div class="sidebar-brand-text mx-3"><span>Workwise</span></div>
            </a>
            <span style="font-size: 15px; text-align: center; color: white;">Solo empresa</span>
            <hr class="sidebar-divider my-0">
            <ul class="navbar-nav text-light" id="accordionSidebar">
                <li class="nav-item"><a class="nav-link" th:href="@{/empresas/pagina_principal}">
                        <i class="fas fa-home"></i><span>Inicio</span></a>
                </li>
                <li class="nav-item"><a class="nav-link" th:href="@{/perfil/empresa}">
                        <i class="far fa-user-circle"></i><span>Perfil</span></a>
                </li>
                <li class="nav-item"><a class="nav-link active" th:href="@{/empresas/oferta}">
                        <i class="fas fa-plus-circle"></i><span>Crear Oferta</span></a>
                </li>
                <li class="nav-item"><a class="nav-link" th:href="@{/empresas/published-offers}">
                        <i class="fas fa-check-circle"></i><span>Ofertas publicadas</span></a>
                </li>
                <li class="nav-item"><a class="nav-link" th:href="@{/Estadisticas/empresas}">
                        <i class="fas fa-chart-bar"></i><span>Estadisticas</span></a>
                </li>
                <li class="nav-item"><a class="nav-link" th:href="@{/login/personas}">
                        <i class="fas fa-user"></i><span>Estas buscando ofertas?</span></a>
                </li>
            </ul>
            
        </div>
    </nav>
    <div class="d-flex flex-column main" id="content-wrapper">
        <div class="content">
            <div class="form-container">
                <div class="title">
                    <h2>Anuncia Tu Empleo</h2>
                </div>
                
                <form id="jobOfferForm" action="/guardarOferta" method="POST">
                    <div class="container-step">
                        <div class="step-indicator">
                            <div class="step-line"></div>
    
                            <div class="step-dot active" data-step="0">1</div>
                            <div class="step-dot" data-step="1">2</div>
                            <div class="step-dot" data-step="2">3</div>
    
                            <h6 class="step-text">Datos Generales</h6>
                            <h6 class="step-text">Descripción</h6>
                            <h6 class="step-text">Requerimientos</h6>
                        </div>
                    </div>
                    <div class="form-steps">
                        <!-- pagina 1 -->
                        <div class="step">
                            <!-- titulo -->
                            <div class="mb-3">
                                <input type="text" class="form-control form-control-user" name="titulo_puesto" placeholder="" required>
                                <label for="jobTitle" class="label">Título del Puesto</label>
                            </div>
                            
                            <!-- moneda de pago y periodo de pago-->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="currency" name="moneda" class="form-control" required>
                                            <option disabled selected>Moneda de pago</option>
                                            <option value="COP">COP</option>
                                            <option value="USD">USD</option>
                                            <option value="EUR">EUR</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="period" name="periodo" class="form-control" required>
                                            <option disabled selected>Periodo de pago</option>
                                            <option value="Diario">Diario</option>
                                            <option value="Semanal">Semanal</option>
                                            <option value="Mensual">Mensual</option>
                                            <option value="Anual">Anual</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
    
                            <!-- modalidad de trabajo y tipo de contratato -->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="jobMode" name="modalidad" class="form-control" required>
                                            <option disabled selected>Modalidad de trabajo</option>
                                            <option value="Presencial">Presencial</option>
                                            <option value="Remoto">Remoto</option>
                                            <option value="Híbrido">Híbrido</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="contractType" name="tipo_contrato" class="form-control" required>
                                            <option disabled selected>Tipo de contrato</option>
                                            <option value="Obra_Labor">Obra o Labor</option>
                                            <option value="Fijo">Fijo</option>
                                            <option value="Indefinido">Indefinido</option>
                                            <option value="Practicas">Prácticas</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
    
                            <!-- Duraciion del contrato y tipo de empleo -->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="jobDuration" name="duracion" class="form-control" required>
                                            <option disabled selected>Duración del contrato</option>
                                            <option value="1 mes">1 Mes</option>
                                            <option value="3 meses">3 Meses</option>
                                            <option value="6 meses">6 Meses</option>
                                            <option value="1 año">1 Año</option>
                                            <option value="Indefinido">Indefinido</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="jobType" name="tipo_empleo" class="form-control" required>
                                            <option disabled selected>Tipo de empleo</option>
                                            <option value="Tiempo_Completo">Tiempo Completo</option>
                                            <option value="Medio_Tiempo">Medio Tiempo</option>
                                            <option value="Por_Horas">Por horas</option>
                                            <option value="Freelance">Freelance</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="btn-container">
                                <div>
                                    <button type="button" class="btn-cancel" onclick="cancelarOferta()">Cancelar</button>
                                </div>
                                <div>
                                    <button type="button" class="btn-next btn-primary" onclick="nextStep()">Siguiente</button>
                                </div>
                            </div>
                        </div>
    
                        <!-- pagina 2 -->
                        <div class="step">
                            <div class="input-group">
                                <label for="jobDescription"><h3>Descripción</h3></label>
    
                                <div class="custom-editor">
                                    <div class="editor-toolbar">
                                        <button type="button" id="boldBtn" onclick="toggleCommand('bold')"><strong>B</strong></button>
                                        <button type="button" id="italicBtn" onclick="toggleCommand('italic')"><em>I</em></button>
                                        <button type="button" onclick="execCmd('insertUnorderedList')">&#8226;&#8226;&#8226;</button>
                                        <button type="button" onclick="execCmd('insertOrderedList')">1.2.3.</button>
                                    </div>
                                
                                    <!-- ÁREA editable con formato -->
                                    <div id="editorContent" name="descripcion_editable" class="editor-area" contenteditable="true">
                                        Consejos: Haz un resumen del puesto, explica qué se necesita para triunfar en él y el lugar que ocupa en la empresa.
                                    </div>
                                </div>
                                <textarea id="jobDescription" name="descripcion" required hidden></textarea>
                            </div>
    
                            <div class="btn-container">
                                <div class="btn-container">
                                    <button class="btn-link" onclick="llenarVistaPrevia()">Vista previa</button>
                                </div>
                                <div class="btn-container">
                                    <button type="button" class="btn-prev btn-secondary" onclick="prevStep()">Anterior</button>
                                    <button type="button" class="btn-next btn-primary" onclick="nextStep()">Siguiente</button>
                                </div>
                            </div>
                        </div>
    
                        <!-- pagina 3 -->
                        <div class="step">
                            <!-- Años de experiencia y estudio -->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="experiencia" name="experiencia" class="form-control" required>
                                            <option value="" disabled selected>Años de experiencia</option>
                                            <option value= 0>Sin experiencia</option>
                                            <option value= 1>Menos de 1 año</option>
                                            <option value= 2>Entre 1 y 3 años</option>
                                            <option value= 3>Entre 3 y 5 años</option>
                                            <option value= 4>Entre 5 y 10 años</option>
                                            <option value= 5>Más de 10 años</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="Sector" name="sector_oferta" class="select2-elegante" required>
                                            <option value="" disabled selected>Sector empresarial</option>
                                            <option value="Aeroespacial">Aeroespacial</option>
                                            <option value="Agricultura">Agricultura</option>
                                            <option value="Agroindustria">Agroindustria</option>
                                            <option value="Ambiental">Medio ambiente</option>
                                            <option value="ArtesCreativas">Artes creativas</option>
                                            <option value="Automotriz">Automotriz</option>
                                            <option value="BienesRaices">Bienes raíces</option>
                                            <option value="Biotecnologia">Biotecnología</option>
                                            <option value="Comercio">Comercio</option>
                                            <option value="Construccion">Construcción</option>
                                            <option value="Consultoria">Consultoría</option>
                                            <option value="Deportes">Deportes y recreación</option>
                                            <option value="Diseño">Diseño</option>
                                            <option value="Educacion">Educación</option>
                                            <option value="Energia">Energía</option>
                                            <option value="Finanzas">Finanzas</option>
                                            <option value="Gobierno">Gobierno</option>
                                            <option value="Investigacion">Investigación</option>
                                            <option value="Legal">Legal</option>
                                            <option value="Logistica">Logística</option>
                                            <option value="Manufactura">Manufactura</option>
                                            <option value="Marketing">Marketing</option>
                                            <option value="Medios">Medios de comunicación</option>
                                            <option value="Mineria">Minería</option>
                                            <option value="Naval">Naval</option>
                                            <option value="Quimica">Química y farmacéutica</option>
                                            <option value="RRHH">Recursos humanos</option>
                                            <option value="Salud">Salud</option>
                                            <option value="Seguros">Seguros</option>
                                            <option value="Servicios">Servicios</option>
                                            <option value="Social">Trabajo social</option>
                                            <option value="Tecnologia">Tecnología</option>
                                            <option value="Textil">Textil y confección</option>
                                            <option value="Transporte">Transporte</option>
                                            <option value="Turismo">Turismo</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
    
                            <!-- salario y sector empresarial -->
                            <div class="row">
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <input type="number" id="jobSalary" class="form-control form-control-user" name="salario"  placeholder="" required>
                                        <label for="jobSalary" class="label">Salario</label>
                                    </div>
                                </div>
                                <div class="contenedor-input">
                                    <div class="col-sm-6 mb-3">
                                        <select id="nivel-estudio" name="nivel_educativo" class="form-control" required>
                                            <option value="" disabled selected>Nivel de estudio</option>
                                            <option value= "Sin_estudios" >Sin estudios</option>
                                            <option value= "Bachiller" >Bachiller</option>
                                            <option value= "Tecnico_Tecnologo">Tecnico/Tecnologo</option>
                                            <option value= "Tecnologo_Universitario">Tecnologo o Universitario</option>
                                            <option value= "Universitario">Universitario</option>
                                            <option value= "Master">Master</option>
                                            <option value= "Doctorado" >Doctorado</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
    
                            <div class="btn-container">
                                <div class="btn-container">
                                    <button type="button" class="btn-link" onclick="llenarVistaPrevia()">Vista previa</button>
                                </div>
                                <div class="btn-container">
                                    <button type="button" class="btn-prev btn-secondary" onclick="prevStep()">Anterior</button>
                                    <button type="submit" class="btn-submit">Publicar Oferta</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div id="modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-header-info">
                        <h3 id="modal-title"></h3>
                        <div class="modal-info-item" id="modal-empresa" style="padding: 0%;"></div>
                    </div>
                    <span onclick="cerrarModal()" class="close-btn" id="close-btn">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="pago">
                        <div class="modal-info-item" id="modal-salary" style="display: flex; margin-right: 5px;">
                            
                        </div>
                        <div id="modal-currency" style="margin-left: 1px; ;"></div>
                        <div class="modal-info-item" id="modal-period"></div>
                    </div>
                    <div class="time-contract">
                        <div class="modal-info-item" id="modal-typeContract"></div>
                        <div class="modal-info-item" id="modal-duration" style="margin-left: 3px;"></div>
                    </div>
                    
                    <div class="modal-info-item" id="modal-type"></div>
                    
                    <div class="modal-info-item" id="modal-modalidad"></div>
                    
                    
                    <p id="modal-description">
                    </p>

                    <div class="Requerimientos">
                        <h3>Requerimientos</h3>
                        <ul>
                            <li>
                                <div class="modal-info-item" id="modal-experience"></div>
                            </li>
                            <li>
                                <div class="modal-info-item" id="modal-studyLevel"></div>
                            </li>
                            <li>
                                <div class="modal-info-item" id="modal-sector"></div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="apply-btn-modal" id="postularseBtn">Apply</button>
                </div>
            </div>
        </div>
    </div>

    <script src="../js/empresa/Oferta.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <!-- Español -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/i18n/es.js"></script>
    <script>
        $(document).ready(function () {
            $('.select2-elegante').select2({
            with: '100%',
            language: "es",
            allowClear: false,
            dropdownAutoWidth: true,
            tags: false, // Esto evita escribir libremente
            });
        });

        function execCmd(command) {
            document.execCommand(command, false, null);
            document.getElementById('editorContent').focus();
        }

        function toggleCommand(command) {
            document.execCommand(command, false, null);
            document.getElementById('editorContent').focus();
            updateButtonState();
        }

        function updateButtonState() {
            document.getElementById('boldBtn').classList.toggle('active', document.queryCommandState('bold'));
            document.getElementById('italicBtn').classList.toggle('active', document.queryCommandState('italic'));
        }

        // Detectar selección para actualizar el estado visual
        document.getElementById('editorContent').addEventListener('keyup', updateButtonState);
        document.getElementById('editorContent').addEventListener('mouseup', updateButtonState);
    </script>
</body>

</html>
